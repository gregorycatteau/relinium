meta:
  id: "EXPLORE-SSOT-V1_1-100PCT-0001"
  version: "v1"
  created_at: "2025-11-06T10:38:50Z"
  generated_by: "cline"
  commit_sha: "1073f0c8d2e8e2d70f1b053b72d8db2faa811214"

current_state:
  truth_index_codex: 0.46
  truth_index_cline_corrected: 0.48
  truth_index_mirror: 0.62
  truth_index_consolide: 0.60
  delta_fiabilite_vs_initial: 0.35

target_state:
  truth_index_cible: 0.95
  invariants:
    - "0 hash mismatch sur l'ensemble des artefacts SSOT."
    - "100% des documents normatifs présents dans registry_v1.1.yaml avec hash et statut."
    - "0 placeholder `to_be_calculated` dans les artefacts d'un sprint Terminé/Certifié."
    - "CI bloque tout merge si check hash/registre/schéma échoue."
    - "Auto-référence des manifestes résolue (self_hash exclu du calcul ou signature externe)."

gaps:
  - id: "GAP-REGISTRY-0001"
    axis: "registry"
    description: "RFC-004 absente du registre v1.1 alors qu'elle est présente dans le repo."
    criticite: "critique"
    impacts: ["maturite_preuve", "coherence_inter_agents"]
    evidences:
      - "reports/validation/SSOT_V1_1_VALIDATION_CODEX.md"
      - "docs/03-architecture/rfcs/RFC-004-alignment-protocol.md"

  - id: "GAP-REGISTRY-0002"
    axis: "registry"
    description: "OBS-0001/0002/0003 listés en pending_migration sans hash ni statut."
    criticite: "elevee"
    impacts: ["maturite_preuve", "discipline_documentaire"]
    evidences:
      - "reports/validation/SSOT_V1_1_VALIDATION_CODEX.md"
      - "docs/_registry/registry_v1.1.yaml"

  - id: "GAP-ID-0001"
    axis: "structure"
    description: "Incohérence nominale RFC-001 (3 chiffres) vs id_root RFC-0001 (4 chiffres)."
    criticite: "elevee"
    impacts: ["coherence_inter_agents", "document_navigation"]
    evidences:
      - "reports/validation/SSOT_V1_1_VALIDATION_CODEX.md"
      - "docs/03-architecture/rfcs/RFC-001-choix-stack-initiale.md"
      - "docs/03-architecture/rfcs/RFC-001-choix-stack-initiale-v2.md"

  - id: "GAP-HASHES-0001"
    axis: "cryptographic"
    description: "Hash manifest snapshot obsolète + self_hash du manifest incorrect."
    criticite: "critique"
    impacts: ["maturite_preuve"]
    evidences:
      - "reports/validation/SSOT_V1_1_VALIDATION_CODEX.md"
      - "docs/sprints/SSOT-v1.1/03-validation/SSOT_V1_1_SNAPSHOT_MANIFEST_20251106_0846.yaml"

  - id: "GAP-HASHES-0002"
    axis: "cryptographic"
    description: "Placeholders `sha256:(to_be_calculated)` dans SSOT_V1_1_HASHES.yaml."
    criticite: "elevee"
    impacts: ["maturite_preuve", "discipline_documentaire"]
    evidences:
      - "reports/validation/SSOT_V1_1_VALIDATION_CODEX.md"
      - "docs/sprints/SSOT-v1.1/03-validation/SSOT_V1_1_HASHES.yaml"

  - id: "GAP-CI-0001"
    axis: "process_ci"
    description: "Absence de gate CI 'hash-after-final' + registry-coverage + schema-check."
    criticite: "elevee"
    impacts: ["discipline_documentaire"]
    evidences:
      - "reports/analysis/SSOT_V1_1_TRUTHKEEPER_REPORT.md"
      - "reports/validation/SSOT_V1_1_MIRROR_CODEX.md"

  - id: "GAP-LANG-0001"
    axis: "language"
    description: "Superlatifs non prouvables ('GUARANTEED', 'acceptable') sans métrique jointe."
    criticite: "moyenne"
    impacts: ["transparence_linguistique"]
    evidences:
      - "reports/validation/SSOT_V1_1_MIRROR_CODEX.md"
      - "reports/validation/SSOT_V1_1_SELFCRITIQUE_CLINE.md"

transformations:
  - id: "TX-REGISTRY-FULL"
    bloc: "A-registry"
    description: "Étendre registry_v1.1.yaml à 100% des documents normatifs (ajout RFC-004, OBS-0001/0002/0003 avec hash/statut)."
    axes_ameliore: ["coherence_inter_agents", "maturite_preuve"]
    delta_truth_index_estime: 0.05
    verifiable_by:
      - "script: check_registry_coverage (liste FS vs YAML, 0 manquant)"
      - "audit externe: diff yq vs rg sur docs/03-architecture/**"
      - "preuve: publication des taux de couverture"

  - id: "TX-RFC-LINEAGE-NORMALIZE"
    bloc: "A-registry"
    description: "Décision de normalisation de la lignée RFC (conserver RFC-001 comme id_root ou migrer vers RFC-0001) et alignement registre/front matters."
    axes_ameliore: ["structure", "document_navigation"]
    delta_truth_index_estime: 0.02
    verifiable_by:
      - "requête registre: id_root stable et unique"
      - "test traversée lignée: 100% des versions reliées via previous_hash"

  - id: "TX-CI-HASH-CHECK"
    bloc: "C-ci"
    description: "Job CI 'triple-check' (hash-check + registry-coverage + schema-check) en required check."
    axes_ameliore: ["discipline_documentaire", "maturite_preuve"]
    delta_truth_index_estime: 0.07
    verifiable_by:
      - "CI logs verts/rouges sur PR"
      - "branch protection: merge impossible si échec"

  - id: "TX-LINT-IDS"
    bloc: "C-ci"
    description: "Linter documentaire (IDs, front matter, DoD vs evidence, langage mesurable)."
    axes_ameliore: ["transparence_linguistique", "coherence_inter_agents"]
    delta_truth_index_estime: 0.03
    verifiable_by:
      - "rapport linter dans CI (références bloquantes)"
      - "regex 'guaranteed|acceptable' interdites sans métrique jointe"

  - id: "TX-CRYPTO-SELFHASH"
    bloc: "B-crypto"
    description: "Standard de calcul self_hash 'exclusion de la ligne self_hash:' + 'hash-after-final' (recalcul et comparaison post-écriture)."
    axes_ameliore: ["maturite_preuve", "discipline_documentaire"]
    delta_truth_index_estime: 0.04
    verifiable_by:
      - "commande: sed '/^self_hash:/d' FILE | sha256sum == self_hash"
      - "CI: échec immédiat si mismatch ou placeholder détecté"

  - id: "TX-GOV-ADR-BEHAV"
    bloc: "D-governance"
    description: "ADR 'Relinium Behavioral Framework v2' (preuve avant déclaration, rôles agents, classification divergences, seuils Truth Index)."
    axes_ameliore: ["transparence_linguistique", "discipline_documentaire", "coherence_inter_agents"]
    delta_truth_index_estime: 0.03
    verifiable_by:
      - "présence ADR + alignement des règles CI sur ADR"
      - "tableau de bord des seuils et des écarts publiés"

scenarios:
  - id: "SCENARIO-STRICT-DISCIPLINE"
    description: "D'abord verrouiller la CI et la boucle de preuve, ensuite étendre le registre."
    steps:
      - "TX-CI-HASH-CHECK"
      - "TX-CRYPTO-SELFHASH"
      - "TX-REGISTRY-FULL"
      - "TX-LINT-IDS"
      - "TX-GOV-ADR-BEHAV"
    success_criteria:
      truth_index_min: 0.85
      axes:
        discipline_documentaire: 0.80
        maturite_preuve: 0.85
      invariants_ok:
        - "0 mismatch"
        - "0 placeholder"
        - "registry_coverage >= 0.95"
      proofs:
        - "CI logs"
        - "rapport d'audit automatique vert"

  - id: "SCENARIO-PROOF-LED"
    description: "Étendre d’abord les preuves (registre exhaustif), puis automatiser et verrouiller."
    steps:
      - "TX-REGISTRY-FULL"
      - "TX-CRYPTO-SELFHASH"
      - "TX-CI-HASH-CHECK"
      - "TX-LINT-IDS"
      - "TX-GOV-ADR-BEHAV"
    success_criteria:
      truth_index_min_phase1: 0.80
      truth_index_min_phase2: 0.90
      proofs:
        - "diff de couverture registre avant/après"
        - "0 mismatch post-automation"

self_hash: "sha256:aedabd6bba2358ca4ecf325a9035716cade529031a0fd6afefa4898d6436b04d"
